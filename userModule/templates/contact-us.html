{% extends 'index.html' %}
{% load static %}
{% block content %}

<section class="donate-area relative section-gap" id="donate">
    <div class="overlay overlay-bg"></div>
    <div class="container ">
        <div class="row d-flex justify-content-center">
            <div class="col-12 text-center pb-5">
                <h1 class="display-4 text-white">Get in Touch</h1>
                <p class="text-white mx-auto mt-3" style="max-width: 800px;">
                    We'd love to hear from you! Whether you have a question about a project, need assistance with a donation, or want to discuss a new idea, our team is here to help. Your feedback and support are vital to our community's success.
                </p>
            </div>
        </div>
        <div class="row gx-5 justify-content-center">
            <div class="col-lg-5 text-white">
                <fieldset class="border p-4">
                    <legend class="px-3 h3 mb-4 fw-bold text-white">Contact Information</legend>
                    <div class="mb-4">
                        <h5 class="mb-2 fw-bold text-white">Official College Address</h5>
                        <address class="text-white-50 mb-0">{{ ins.address }}</address>
                    </div>
                    <div class="mb-4">
                        <h5 class="mb-2 fw-bold text-white">Contact Numbers</h5>
                        <p class="mb-1"><a class="text-white text-decoration-none" href="tel:{{ ins.phn }}">+91-{{ ins.phn }}</a></p>
                        <p class="mb-0"><a class="text-white text-decoration-none" href="tel:{{ ins.phn }}">+91-{{ ins.phn }}</a></p>
                    </div>
                    <div class="mb-0">
                        <h5 class="mb-2 fw-bold text-white">Official Email</h5>
                        <p class="mb-0"><a class="text-white text-decoration-none" href="mailto:{{ ins.email }}">{{ ins.email }}</a></p>
                    </div>
                </fieldset>
            </div>
            <div class="col-lg-7 text-white">
                <h3 class="mb-4 fw-bold text-white">Send us a message</h3>
                <form method="post" class="needs-validation" novalidate>
                    {% csrf_token %}
                    <div class="row g-3">
                        <div class="col-md-6">
                            <div class="form-floating mb-4">
                                <input type="text" class="form-control" id="firstName" name="first_name" placeholder="First Name" pattern="[A-Za-z\s]+" required>
                                <div class="invalid-feedback text-white">
                                    Please enter your first name.
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-floating mb-4">
                                <input type="text" class="form-control" id="lastName" name="last_name" placeholder="Last Name" pattern="[A-Za-z\s]+" required>
                                <div class="invalid-feedback  text-white">
                                    Please enter a valid last name (letters only).
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-floating mb-4">
                                <input type="email" class="form-control" id="email" name="email" placeholder="Email Address" required>
                                <div class="invalid-feedback  text-white">
                                    Please enter a valid email address.
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-floating mb-4">
                                <input type="tel" class="form-control" id="phone" name="phone" placeholder="Phone Number" pattern="[0-9]{10}" required>
                                <div class="invalid-feedback  text-white">
                                    Please enter a valid 10-digit phone number.
                                </div>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-floating mb-4">
                                <textarea class="form-control" id="message" name="message" placeholder="Your Message" style="height: 150px;" required></textarea>
                                <div class="invalid-feedback  text-white">
                                    Please enter a message.
                                </div>
                            </div>
                        </div>
                        <div class="col-12 text-end">
                            <button type="submit" class="btn btn-info">Send Message</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
    {% if messages %}
        {% for message in messages %}
            Swal.fire({
                title: '{{ message.tags|title }}!',
                text: '{{ message }}',
                icon: '{{ message.tags }}',
                confirmButtonText: 'OK'
            });
        {% endfor %}
    {% endif %}
</script>

<script>
    (function () {
        'use strict';
        const form = document.querySelector('form');
        form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
                event.preventDefault();
                event.stopPropagation();
            }
            form.classList.add('was-validated');
        }, false);
    })();
</script>

{% endblock %}